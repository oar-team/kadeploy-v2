kaaddnode

NAME
	kaaddnode - registers nodes and their disk and partition features

SYNOPSIS
	kaaddnode info_file

DESCRIPTION
	kaaddnode registers nodes and their disk and partition features into ka deployment system. It can be used at the very beginning to describe a whole cluster (during the installation step for instance) or later when new nodes are added to a cluster already managed by the ka deployment system.

	info_file is the name of the file that describes all the information the system needs. It contains two main parts and has to be formatted as described below:

	# first part : node set description

	node_name1    mac_address1    ip_address1
	node_name2    mac_address2    ip_address2
	node_name3    mac_address3    ip_address3
	...           ...             ...
	
	N.B. : each node is described on a separate line; fields on each line are separated by tabs or spaces. 

	# second part : descriptive information about the type of disk and the partitioning

	device_name    device_size
	partition_number1    partition_size1    deployed_env1
	partition_number2    partition_size2    deployed_env2
	partition_number3    partition_size3    deployed_env3
	...		     ...		...

	N.B. : each partition is described on a separate line; fields on each line are separated by tabs or spaces. All size are given in Mbytes. The specified deployed_env should exist in the ka deployment system.

	First and second part are separated by a - strange and arbitrary - line starting with the following characters : \#. Empty lines and commentaries (starting with #) are ignored. Before doing any modification in the ka deployment system database, kaaddnode tries to check if the expected description syntax is respected in both parts.

RETURN VALUE
       kaaddnode returns 0 if it fails. Otherwise, it returns 1.

EXAMPLE
	kaaddnode description.txt
	
	with description.txt as below:

	# Nodes
	node1    00:02:73:49:9C:8D    192.168.10.1
	node2    00:02:73:49:9C:8E    192.168.10.2
	...	 ...		      ...

	\#

	# Disk & Parts
	hda  80000
	1    5000    swap
	2    20000   debian
	...  ...     ...

SEE ALSO
	kaadduser, kadeluser, kaconsole, kacreateenv, kaaddnode, kadelnode, kadeploy, kareboot

COPYRIGHTS
	Copyright © 2004 Laboratoire Id-Imag (http://www-id.imag.fr). This software is licensed under the GNU Library General Public License. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.